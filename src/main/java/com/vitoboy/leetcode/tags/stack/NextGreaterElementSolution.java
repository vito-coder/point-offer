package com.vitoboy.leetcode.tags.stack;

import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;
import java.util.Stack;

/**
 * ç»™ä½ ä¸¤ä¸ª æ²¡æœ‰é‡å¤å…ƒç´  çš„æ•°ç»„ nums1 å’Œ nums2 ï¼Œå…¶ä¸­nums1 æ˜¯ nums2 çš„å­é›†ã€‚ 
 * 
 *  è¯·ä½ æ‰¾å‡º nums1 ä¸­æ¯ä¸ªå…ƒç´ åœ¨ nums2 ä¸­çš„ä¸‹ä¸€ä¸ªæ¯”å…¶å¤§çš„å€¼ã€‚ 
 * 
 *  nums1 ä¸­æ•°å­— x çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ æ˜¯æŒ‡ x åœ¨ nums2 ä¸­å¯¹åº”ä½ç½®çš„å³è¾¹çš„ç¬¬ä¸€ä¸ªæ¯” x å¤§çš„å…ƒç´ ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œå¯¹åº”ä½ç½®è¾“å‡º -1 ã€‚ 
 * 
 *  
 * 
 *  ç¤ºä¾‹ 1: 
 * 
 *  
 * è¾“å…¥: nums1 = [4,1,2], nums2 = [1,3,4,2].
 * è¾“å‡º: [-1,3,-1]
 * è§£é‡Š:
 *     å¯¹äº num1 ä¸­çš„æ•°å­— 4 ï¼Œä½ æ— æ³•åœ¨ç¬¬äºŒä¸ªæ•°ç»„ä¸­æ‰¾åˆ°ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°å­—ï¼Œå› æ­¤è¾“å‡º -1 ã€‚
 *     å¯¹äº num1 ä¸­çš„æ•°å­— 1 ï¼Œç¬¬äºŒä¸ªæ•°ç»„ä¸­æ•°å­—1å³è¾¹çš„ä¸‹ä¸€ä¸ªè¾ƒå¤§æ•°å­—æ˜¯ 3 ã€‚
 *     å¯¹äº num1 ä¸­çš„æ•°å­— 2 ï¼Œç¬¬äºŒä¸ªæ•°ç»„ä¸­æ²¡æœ‰ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°å­—ï¼Œå› æ­¤è¾“å‡º -1 ã€‚ 
 * 
 *  ç¤ºä¾‹ 2: 
 * 
 *  
 * è¾“å…¥: nums1 = [2,4], nums2 = [1,2,3,4].
 * è¾“å‡º: [3,-1]
 * è§£é‡Š:
 * Â    å¯¹äº num1 ä¸­çš„æ•°å­— 2 ï¼Œç¬¬äºŒä¸ªæ•°ç»„ä¸­çš„ä¸‹ä¸€ä¸ªè¾ƒå¤§æ•°å­—æ˜¯ 3 ã€‚
 *     å¯¹äº num1 ä¸­çš„æ•°å­— 4 ï¼Œç¬¬äºŒä¸ªæ•°ç»„ä¸­æ²¡æœ‰ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°å­—ï¼Œå› æ­¤è¾“å‡º -1 ã€‚
 *  
 * 
 *  
 * 
 *  æç¤ºï¼š 
 * 
 *  
 *  1 <= nums1.length <= nums2.length <= 1000 
 *  0 <= nums1[i], nums2[i] <= 104 
 *  nums1å’Œnums2ä¸­æ‰€æœ‰æ•´æ•° äº’ä¸ç›¸åŒ 
 *  nums1 ä¸­çš„æ‰€æœ‰æ•´æ•°åŒæ ·å‡ºç°åœ¨ nums2 ä¸­ 
 *  
 * 
 *  
 * 
 *  è¿›é˜¶ï¼šä½ å¯ä»¥è®¾è®¡ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ä¸º O(nums1.length + nums2.length) çš„è§£å†³æ–¹æ¡ˆå—ï¼Ÿ 
 *  Related Topics æ ˆ 
 *  ğŸ‘ 345 ğŸ‘ 0
 * 
 * @Author: vito
 * @Date: 2021/1/22 ä¸‹åˆ2:28
 * @Version: 1.0
 */
public class NextGreaterElementSolution {

    public static void main(String[] args) {

        NextGreaterElementSolution solution = new NextGreaterElementSolution();
        int[][] two = testSubmit();
        int[] num1 = new int[]{4,1,2};
        int[] num2 = new int[]{1,3,4,2};
        int[] ints = solution.nextGreaterElementII(two[0], two[1]);
        System.out.println(Arrays.toString(two[2]));
        System.out.println(Arrays.toString(ints));

    }

    public static int[][] testSubmit() {
        int[] num1 = new int[]{137,59,92,122,52,131,79,236,94,171,141,86,169,199,248,120,196,168,77,71,5,198,215,230,176,87,189,206,115,76,13,216,197,26,183,54,250,27,109,140,147,25,96,105,30,207,241,8,217,40,0,35,221,191,83,132,9,144,12,91,175,65,170,149,174,82,102,167,62,70,44,143,10,153,160,142,188,81,146,212,15,162,103,163,123,48,245,116,192,14,211,126,63,180,88,155,224,148,134,158,119,165,130,112,166,93,125,1,11,208,150,100,106,194,124,2,184,75,113,104,18,210,202,111,84,223,173,238,41,33,154,47,244,232,249,60,164,227,253,56,157,99,179,6,203,110,127,152,252,55,185,73,67,219,22,156,118,234,37,193,90,187,181,23,220,72,255,58,204,7,107,239,42,139,159,95,45,242,145,172,209,121,24,21,218,246,49,46,243,178,64,161,117,20,214,17,114,69,182,85,229,32,129,29,226,136,39,36,233,43,240,254,57,251,78,51,195,98,205,108,61,66,16,213,19,68,237,190,3,200,133,80,177,97,74,138,38,235,135,186,89,201,4,101,151,31,228,231,34,225,28,222,128,53,50,247};
        int[] num2 = new int[]{137,59,92,122,52,131,79,236,94,171,141,86,169,199,248,120,196,168,77,71,5,198,215,230,176,87,189,206,115,76,13,216,197,26,183,54,250,27,109,140,147,25,96,105,30,207,241,8,217,40,0,35,221,191,83,132,9,144,12,91,175,65,170,149,174,82,102,167,62,70,44,143,10,153,160,142,188,81,146,212,15,162,103,163,123,48,245,116,192,14,211,126,63,180,88,155,224,148,134,158,119,165,130,112,166,93,125,1,11,208,150,100,106,194,124,2,184,75,113,104,18,210,202,111,84,223,173,238,41,33,154,47,244,232,249,60,164,227,253,56,157,99,179,6,203,110,127,152,252,55,185,73,67,219,22,156,118,234,37,193,90,187,181,23,220,72,255,58,204,7,107,239,42,139,159,95,45,242,145,172,209,121,24,21,218,246,49,46,243,178,64,161,117,20,214,17,114,69,182,85,229,32,129,29,226,136,39,36,233,43,240,254,57,251,78,51,195,98,205,108,61,66,16,213,19,68,237,190,3,200,133,80,177,97,74,138,38,235,135,186,89,201,4,101,151,31,228,231,34,225,28,222,128,53,50,247};
        int[] out = new int[]{236,92,122,131,131,236,236,248,171,199,169,169,199,248,250,196,198,198,198,198,198,215,230,250,189,189,206,216,216,216,216,250,250,183,250,250,253,109,140,147,207,96,105,207,207,241,245,217,221,221,35,221,245,212,132,144,144,175,91,175,188,170,174,174,188,102,167,188,70,143,143,153,153,160,188,188,212,146,212,245,162,163,163,245,245,245,249,192,211,211,224,180,180,224,155,224,238,158,158,165,165,166,166,166,208,125,208,11,208,210,194,106,194,210,184,184,210,113,210,210,210,223,223,223,223,238,238,244,154,154,244,244,249,249,253,164,227,253,255,157,179,179,203,203,252,127,152,252,255,185,219,219,219,234,156,234,234,255,193,220,187,220,220,220,255,255,-1,204,239,107,239,242,139,159,242,242,242,246,172,209,218,218,218,218,246,254,243,243,254,214,161,214,214,214,229,114,182,182,229,229,233,129,226,226,233,233,233,233,240,240,254,-1,251,-1,195,195,205,205,213,213,66,213,213,237,68,237,247,200,200,235,177,177,235,138,138,235,235,247,186,201,201,228,101,151,228,228,231,247,225,247,222,247,247,247,247,-1};

        int[][] result = new int[3][];
        result[0] = num1;
        result[1] = num2;
        result[2] = out;
        return result;
    }





    /**
     * ä¸‹ä¸€ä¸ªæ›´å¤§çš„å…ƒç´ (vito)-I
     * è§£ç­”æˆåŠŸ:
     * 				æ‰§è¡Œè€—æ—¶:10 ms,å‡»è´¥äº†11.91% çš„Javaç”¨æˆ·
     * 				å†…å­˜æ¶ˆè€—:38.7 MB,å‡»è´¥äº†37.06% çš„Javaç”¨æˆ·
     *
     * @param nums1
     * @param nums2
     * @return
     */
    public int[] nextGreaterElement(int[] nums1, int[] nums2) {
        if (nums1 == null || nums1.length == 0) {
            return null;
        }
        int[] find = new int[nums1.length];
        Arrays.fill(find, -1);
        for (int i = 0; i < nums1.length; i++) {
            int count = -1;
            for (int j = 0; j < nums2.length; j++) {
                if (count == -1 ){
                    if( nums1[i] == nums2[j]) {
                        count = nums1[i];
                    }
                } else {
                    if (nums1[i] < nums2[j]) {
                        count = nums2[j];
                        break;
                    }
                }
            }
            if (count > nums1[i]) {
                find[i] = count;
            }
        }
        return find;
    }


    /**
     * å•è°ƒæ ˆ
     *
     * æˆ‘ä»¬å¯ä»¥å¿½ç•¥æ•°ç»„ `nums1`ï¼Œå…ˆå¯¹å°† `nums2` ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œæ±‚å‡ºå…¶ä¸‹ä¸€ä¸ªæ›´å¤§çš„å…ƒç´ ã€‚
     * éšåå¯¹äºå°†è¿™äº›ç­”æ¡ˆæ”¾å…¥å“ˆå¸Œæ˜ å°„ï¼ˆHashMapï¼‰ä¸­ï¼Œå†éå†æ•°ç»„ `nums1`ï¼Œå¹¶ç›´æ¥æ‰¾å‡ºç­”æ¡ˆã€‚
     * å¯¹äº `nums2`ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å•è°ƒæ ˆæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚
     *
     * æˆ‘ä»¬é¦–å…ˆæŠŠç¬¬ä¸€ä¸ªå…ƒç´  `nums2[1]` æ”¾å…¥æ ˆï¼Œéšåå¯¹äºç¬¬äºŒä¸ªå…ƒç´  `nums2[2]`ï¼Œ
     * å¦‚æœ `nums2[2] > nums2[1]`ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æ‰¾åˆ°äº† `nums2[1]` çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  `nums2[2]`ï¼Œæ­¤æ—¶å°±å¯ä»¥æŠŠ `nums2[1]` å‡ºæ ˆå¹¶æŠŠ `nums2[2]` å…¥æ ˆï¼›
     * å¦‚æœ `nums2[2] <= nums2[1]`ï¼Œæˆ‘ä»¬å°±ä»…æŠŠ `nums2[2]` å…¥æ ˆã€‚
     * å¯¹äºç¬¬ä¸‰ä¸ªå…ƒç´  `nums2[3]`ï¼Œæ­¤æ—¶æ ˆä¸­æœ‰è‹¥å¹²ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆæ‰€æœ‰æ¯” `nums2[3]` å°çš„å…ƒç´ éƒ½æ‰¾åˆ°äº†ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼ˆå³ `nums2[3]`ï¼‰ï¼Œå› æ­¤å¯ä»¥å‡ºæ ˆï¼Œåœ¨è¿™ä¹‹åï¼Œæˆ‘ä»¬å°† `nums2[3]` å…¥æ ˆï¼Œä»¥æ­¤ç±»æ¨ã€‚
     *
     * å¯ä»¥å‘ç°ï¼Œæˆ‘ä»¬ç»´æŠ¤äº†ä¸€ä¸ªå•è°ƒæ ˆï¼Œæ ˆä¸­çš„å…ƒç´ ä»æ ˆé¡¶åˆ°æ ˆåº•æ˜¯å•è°ƒä¸é™çš„ã€‚
     * å½“æˆ‘ä»¬é‡åˆ°ä¸€ä¸ªæ–°çš„å…ƒç´  `nums2[i]` æ—¶ï¼Œæˆ‘ä»¬åˆ¤æ–­æ ˆé¡¶å…ƒç´ æ˜¯å¦å°äº `nums2[i]`ï¼Œ
     * å¦‚æœæ˜¯ï¼Œé‚£ä¹ˆæ ˆé¡¶å…ƒç´ çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ å³ä¸º `nums2[i]`ï¼Œæˆ‘ä»¬å°†æ ˆé¡¶å…ƒç´ å‡ºæ ˆã€‚
     * é‡å¤è¿™ä¸€æ“ä½œï¼Œç›´åˆ°æ ˆä¸ºç©ºæˆ–è€…æ ˆé¡¶å…ƒç´ å¤§äº `nums2[i]`ã€‚
     * æ­¤æ—¶æˆ‘ä»¬å°† `nums2[i]` å…¥æ ˆï¼Œä¿æŒæ ˆçš„å•è°ƒæ€§ï¼Œå¹¶å¯¹æ¥ä¸‹æ¥çš„ `nums2[i + 1], nums2[i + 2] ...` æ‰§è¡ŒåŒæ ·çš„æ“ä½œã€‚
     *
     *  **å¤æ‚åº¦åˆ†æ**
     *
     *  * æ—¶é—´å¤æ‚åº¦ï¼š*O(M+N)*ï¼Œå…¶ä¸­ *M* å’Œ *N* åˆ†åˆ«æ˜¯æ•°ç»„ `nums1` å’Œ `nums2` çš„é•¿åº¦ã€‚
     *
     *  * ç©ºé—´å¤æ‚åº¦ï¼š*O(N)*ã€‚æˆ‘ä»¬åœ¨éå† `nums2` æ—¶ï¼Œéœ€è¦ä½¿ç”¨æ ˆï¼Œä»¥åŠå“ˆå¸Œæ˜ å°„ç”¨æ¥ä¸´æ—¶å­˜å‚¨ç­”æ¡ˆã€‚
     *
     * è§£ç­”æˆåŠŸ:
     * 				æ‰§è¡Œè€—æ—¶:5 ms,å‡»è´¥äº†81.26% çš„Javaç”¨æˆ·
     * 				å†…å­˜æ¶ˆè€—:38.6 MB,å‡»è´¥äº†57.10% çš„Javaç”¨æˆ·
     *
     * @param nums1
     * @param nums2
     * @return
     */
    public int[] nextGreaterElementII(int[] nums1, int[] nums2) {
        Stack< Integer > stack = new Stack < > ();
        HashMap < Integer, Integer > map = new HashMap< >();
        int[] res = new int[nums1.length];
        for (int i = 0; i < nums2.length; i++) {
            while (!stack.empty() && nums2[i] > stack.peek())
                map.put(stack.pop(), nums2[i]);
            stack.push(nums2[i]);
        }
        while (!stack.empty())
            map.put(stack.pop(), -1);
        for (int i = 0; i < nums1.length; i++) {
            res[i] = map.get(nums1[i]);
        }
        return res;
    }


    public int[] nextGreaterElementIII(int[] nums1, int[] nums2) {

        return null;
    }
}
